(this["webpackJsonpurl-shortner"]=this["webpackJsonpurl-shortner"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},47:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(4),r=n(3),a=n.n(r),o=n(29),s=n.n(o),i=(n(41),n(42),n(21)),l=n(9),u=n(19),d=n.n(u),j=n(24),b=n(15),h=n(35).a.initializeApp({apiKey:"AIzaSyCVJR_BMTGo-tSbnuZFis8GW4cOg9knTIs",authDomain:"hometask-a2f16.firebaseapp.com",projectId:"hometask-a2f16",storageBucket:"hometask-a2f16.appspot.com",messagingSenderId:"126836864581",appId:"1:126836864581:web:cd39168cbc0087c7e0552c",measurementId:"G-CYBMJ2NPD2"}),O=n(60);n(47);function p(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=["0","1","2","3","4","5","6","7","8","9"],n="",c=e;c>0;--c)n+=t[Math.floor(Math.random()*t.length)];return n}var f=null;var m=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=(t[0],t[1]),a=Object(r.useState)(""),o=Object(b.a)(a,2),s=o[0],i=o[1],l=Object(r.useState)(""),u=Object(b.a)(l,2),m=u[0],x=u[1],g=Object(r.useState)(""),v=Object(b.a)(g,2),y=v[0],k=v[1],I=Object(r.useState)(""),S=Object(b.a)(I,2),w=S[0],N=S[1],B=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=m||null!=y){e.next=2;break}return e.abrupt("return");case 2:n("Getting Download Link..."),console.log("here"),N("Loading."),f=setInterval((function(){N((function(e){var t=e+".";return"Loading...."==t&&(t="Loading."),console.log("in interval",t),t}))}),500),h.storage().ref("/files/".concat(m.name)).put(m).on("state_changed",null,null,(function(){h.storage().ref("files").child(m.name).getDownloadURL().then(function(){var e=Object(j.a)(d.a.mark((function e(t){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(t),c=Object(O.a)(),r=p(),k(r),console.log(c),e.next=7,h.firestore().collection("urls").add({url:t,code:c,key:r});case 7:i("https://hometask-a2f16.web.app/l/".concat(c)),N(""),console.log("interval",f),clearInterval(f);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{id:"home",children:[Object(c.jsx)("div",{className:"home__center",children:Object(c.jsx)("h1",{children:"Upload File"})}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("input",{type:"file",className:"form-control",onChange:function(e){x(e.target.files[0])}}),Object(c.jsx)("br",{}),Object(c.jsx)("center",{children:Object(c.jsx)("button",{className:"btn btn-primary",onClick:B,children:"Submit"})})]}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),""!==s&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Here Is Your Url"}),Object(c.jsx)("h3",{children:Object(c.jsx)("a",{href:s,target:"_blank",children:s})}),""!=y&&Object(c.jsxs)("h2",{children:["your random key is ",y]})]}),""!=w&&Object(c.jsx)("h1",{children:w})]})};var x=function(){var e=Object(l.g)().code,t=Object(l.f)(),n=Object(r.useState)(""),a=Object(b.a)(n,2),o=a[0],s=a[1],i=Object(r.useState)(""),u=Object(b.a)(i,2),d=u[0],j=u[1];return Object(r.useEffect)((function(){h.firestore().collection("urls").where("code","==",e).onSnapshot((function(e){if(e.empty)return t.push("/");console.log(e.docs);var n=e.docs[0].data();s(n)}))}),[]),Object(c.jsx)("div",{id:"home",className:"container",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{id:"result",style:{display:"none"},children:[Object(c.jsx)("h1",{children:"Your File Is Ready To Download"}),Object(c.jsx)("center",{children:Object(c.jsx)("a",{href:o.url,className:"btn btn-success",target:"_blank",children:"Download"})})]}),Object(c.jsxs)("div",{id:"input",children:[Object(c.jsx)("h1",{id:"error",children:"Please Enter Valid Key To Download File"}),Object(c.jsx)("input",{type:"number",className:"form-control",placeholder:"Enter 6 Digit Secret Key",value:d,onChange:function(e){return j(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("center",{children:Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(){""!==d&&o.key===d?(document.getElementById("input").style.display="none",document.getElementById("result").style.display="block"):(document.getElementById("input").style.display="block",document.getElementById("error").style.color="red")},children:"Submit"})})]})]})})};var g=function(){return Object(c.jsx)("div",{className:"app",children:Object(c.jsx)(i.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",component:m}),Object(c.jsx)(l.a,{exact:!0,path:"/l/:code",component:x})]})})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};n(55);s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),v()}},[[56,1,2]]]);
//# sourceMappingURL=main.547fc12e.chunk.js.map