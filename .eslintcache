[{"C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\index.js":"1","C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\App.js":"2","C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\reportWebVitals.js":"3","C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\Home.js":"4","C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\GoLink.js":"5","C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\firebase.js":"6"},{"size":547,"mtime":1649258031511,"results":"7","hashOfConfig":"8"},{"size":426,"mtime":1609339306000,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1609339306000,"results":"10","hashOfConfig":"8"},{"size":3025,"mtime":1649677775346,"results":"11","hashOfConfig":"8"},{"size":1884,"mtime":1649267343103,"results":"12","hashOfConfig":"8"},{"size":425,"mtime":1649273423383,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"qod9me",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"16"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\index.js",[],["30","31"],"C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\App.js",[],"C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\reportWebVitals.js",[],"C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\Home.js",["32","33","34","35","36","37","38"],"import React, { useState } from \"react\";\nimport { app } from \"./firebase\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport \"./Home.css\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Send } from \"@material-ui/icons\";\nfunction randomString(length=6) {\n  const chars = ['0','1','2','3','4','5','6','7','8','9']\n  let result = '';\n  for (let i = length; i > 0; --i) result += chars[Math.floor(Math.random() * chars.length)];\n  return result;\n}\nlet loadingInterval = null;\n\nfunction Home() {\n  const [url, setUrl] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n\n  const [file, setFile] = useState(\"\");\n  const [key, setKey] = useState(\"\");\n  const [loadingText,setLoadingText] = useState(\"\");\n\n  const startLoading = ()=>{\n    console.log('here')\n    setLoadingText(\"Loading.\")\n    loadingInterval = setInterval(() => {\n      setLoadingText(prev =>{\n        let loadingStr = prev +'.';\n        if(loadingStr == 'Loading....')\n        loadingStr= 'Loading.'\n        console.log('in interval',loadingStr)\n        return loadingStr;\n\n      })\n    }, 500);\n\n  }\n\n  const stopLoading = ()=>{\n    \n    setLoadingText(\"\")\n    console.log('interval',loadingInterval)\n    clearInterval(loadingInterval)\n  }\n\n  const upload = async () => {\n    if (file == null && key == null) return;\n    setUrl(\"Getting Download Link...\");\n    // Sending File to Firebase Storage\n    startLoading()\n    app\n      .storage()\n      .ref(`/files/${file.name}`)\n      .put(file)\n      .on(\"state_changed\", null, null, () => {\n        // Getting Download Link\n     \n        app\n          .storage()\n          .ref(\"files\")\n          .child(file.name)\n          .getDownloadURL()\n          .then(async (url) => {\n            setUrl(url);\n            let code = uuidv4();\n            let key = randomString();\n            setKey(key);\n                 \n            console.log(code)\n            await app.firestore().collection(\"urls\").add({\n              url: url,\n              code: code,\n              key: key,\n            });\n\n            setCode(`https://hometask-a2f16.web.app/l/${code}`);\n            //setCode(`http://localhost:3000/l/${code}`);\n            stopLoading()\n          });\n      });\n  };\n \n  return (\n    <div>\n      <div className=\"home__center\">\n        <h1>Upload File</h1>\n      </div>\n      <div className=\"container\">\n        \n        <input\n          type=\"file\"\n          className=\"form-control\"\n          onChange={(e) => {\n            setFile(e.target.files[0]);\n          }}\n        />\n        \n        <br />\n        <button className=\"btn btn-primary\" onClick={upload}>\n          Submit\n        </button>\n      </div>\n      <br />\n      <br />\n      {code !== \"\" && (\n        <div>\n          <h2>Here Is Your Url</h2>\n          <h3>\n            <a href={code} target=\"_blank\">\n              {code}\n            </a>\n          </h3>\n          {key != \"\" && <h2>your random key is {key}</h2>}\n  \n        </div>\n      )}\n      {loadingText !=\"\" && <h1>{loadingText}</h1>}\n    </div>\n  );\n}\n\nexport default Home;\n","C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\GoLink.js",["39","40","41"],"import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { app } from \"./firebase\";\n\nfunction GoLink() {\n  const { code } = useParams();\n  const history = useHistory();\n\n  const [fileLink, setFilelink] = useState(\"\");\n  const [key, setKey] = useState(\"\");\n\n  useEffect(() => {\n    let query = app.firestore().collection(\"urls\").where(\"code\", \"==\", code);\n    query.onSnapshot((data) => {\n      if (data.empty) {\n        return history.push(\"/\");\n      }\n      console.log(data.docs);\n      let finalData = data.docs[0].data();\n      setFilelink(finalData);\n\n      // window.location.replace(finalData.url);\n    });\n  }, []);\n\n  const checkkey = () => {\n    if (key !== \"\" && fileLink.key === key) {\n      document.getElementById(\"input\").style.display = \"none\";\n      document.getElementById(\"result\").style.display = \"block\";\n    } else {\n      document.getElementById(\"input\").style.display = \"block\";\n      document.getElementById(\"error\").style.color = \"red\";\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div>\n        <div id=\"result\" style={{ display: \"none\" }}>\n          <h1>Your File Is Ready To Download</h1>\n\n          <a href={fileLink.url} className=\"btn btn-success\" target=\"_blank\">\n            Download\n          </a>\n        </div>\n\n        <div id=\"input\">\n          <h1 id=\"error\">Please Enter Valid Key To Download File</h1>\n\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            placeholder=\"Enter 6 Digit Secret Key\"\n            value={key}\n            onChange={(e) => setKey(e.target.value)}\n          />\n          <br />\n          <button className=\"btn btn-primary\" onClick={() => checkkey()}>\n            Submit\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default GoLink;\n","C:\\Users\\USER\\Desktop\\webMessage\\DeliveryWebMsg\\src\\firebase.js",[],["42","43"],{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","severity":1,"message":"49","line":5,"column":10,"nodeType":"50","messageId":"51","endLine":5,"endColumn":20},{"ruleId":"48","severity":1,"message":"52","line":6,"column":10,"nodeType":"50","messageId":"51","endLine":6,"endColumn":14},{"ruleId":"48","severity":1,"message":"53","line":16,"column":10,"nodeType":"50","messageId":"51","endLine":16,"endColumn":13},{"ruleId":"54","severity":1,"message":"55","line":29,"column":23,"nodeType":"56","messageId":"57","endLine":29,"endColumn":25},{"ruleId":"58","severity":1,"message":"59","line":109,"column":13,"nodeType":"60","endLine":109,"endColumn":44},{"ruleId":"54","severity":1,"message":"61","line":113,"column":16,"nodeType":"56","messageId":"57","endLine":113,"endColumn":18},{"ruleId":"54","severity":1,"message":"61","line":117,"column":20,"nodeType":"56","messageId":"57","endLine":117,"endColumn":22},{"ruleId":"48","severity":1,"message":"62","line":2,"column":10,"nodeType":"50","messageId":"51","endLine":2,"endColumn":14},{"ruleId":"63","severity":1,"message":"64","line":25,"column":6,"nodeType":"65","endLine":25,"endColumn":8,"suggestions":"66"},{"ruleId":"58","severity":1,"message":"59","line":43,"column":11,"nodeType":"60","endLine":43,"endColumn":78},{"ruleId":"44","replacedBy":"67"},{"ruleId":"46","replacedBy":"68"},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],"no-unused-vars","'IconButton' is defined but never used.","Identifier","unusedVar","'Send' is defined but never used.","'url' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","Expected '!==' and instead saw '!='.","'Link' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'code' and 'history'. Either include them or remove the dependency array.","ArrayExpression",["71"],["69"],["70"],"no-global-assign","no-unsafe-negation",{"desc":"72","fix":"73"},"Update the dependencies array to be: [code, history]",{"range":"74","text":"75"},[721,723],"[code, history]"]